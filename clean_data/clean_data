数 据 清 理 :


    把 数 据 的 内 容 去 掉 或 纠 正 内 容 .


一. 对 NaN 和 None 的 处 理 :


Numpy :

    np.nan 是float类型的数据,None是一个NoneType类型

    <1> 有 None 进行数据运算报错.

    <2> np.nan 进行数据处理不报错,但返回值是 nan

    <3> ndarray无法对有缺失值的数据进行计算.第四条才可以.

    <4> np.nansum(a) 可以对除了 np.nan 的其他值进行运算.

Series :

    <1> 在Series中显示的时候都会显示为NaN,均可视作np.nan

    <2> 进行Series处理后可以 .sum() 或 np.sum(Series(a)),此时NaN默认为0.0

    <3> pandas对象方法: s.isnull() s.notnull()

        (1) .isnull()

            是NaN返回True,不是返回False

        (2) .notnull()

            是NaN返回False,不是返回True

        <3> 过 滤 NaN :

            s[s.notnull()]

DataFrame :

    how = any or all 有一个去除 或 全部是 才去除

    thresh = number 在指令行或列的 非缺失值(有效值) >= number 保留行或列.

    <1> object.dropna(how='any')

        参数 how='any' ,一行中只要有 NaN,就删这一行

        参数 how='all', 一行里都是   NaN,才删这一行

        不会修改原 视图,需要用返回值接收才有结果
 
填 充 缺 失 值 :

    <1> .fillna()

        参 数 : 

            value 填充缺失值的标量值
            
            inplace 修改调用者对象,不产生副本

            method 上缺失值 = 前值或后值 ffill=前值,bfill=后值

                (在二维视图里默认axis=0,赋值为行级别上个或下个(表现为i表现为iii))

            limit 默认是列,limit=1时,每列从上到下只补一个.



二. 替 换 值 :


    <1> object.replace(np.nan,1)

    <2> object.replace([np.nan,-100],1)

    <3> object.replace({np.nan:1,-100:1})


三. 数 据 映 射 转 换 索 引 :


    Series s = [1,2,3,4]    dict d = {1:'a',2:'b',3:'c',4:'d'}

    用 a b c d 替换 1,2,3,4

    s.map(d)    return a b c d 



四. 去 重 数 据 :

    <1> .duplicated()

        重复了是 True , 不重复是 False

        object[-object.duplicated()]

        先得到 False 为不重复的数据, - 反转为 True ,实例化完成去重

    <2> .drop_duplicates()

        直接返回去重后的结果,默认是 每行中 所有数据 都重复的.

        参 数 : 
        
        指定列 (若指定多列,则这多列全部重复才去重)

            指定列中的 数据重复了 才取重
            data.drop_duplicates(['k1','k2'])

        保留哪个值 : 

            data.drop_duplicates(['k1','k2'],keep='first')
            first 保留重复的第一个值

            data.drop_duplicates(['k1','k2'],keep='last')
            last  保留重复的第最后一个值

            data.drop_duplicates(['k1','k2'],keep='False')
            False 只要该数据 两次及以上出现,就把两次都删



五. 检 测 和 过 滤 异 常 值 :
    
    过滤或变换异常值(outlier)在很大程度上就是运用数组运算
    
    <1> 

        
